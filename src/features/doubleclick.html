<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Double-click deduplication</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.9422d7ed.css" as="style"><link rel="preload" href="/assets/js/app.0774983a.js" as="script"><link rel="preload" href="/assets/js/2.f1c961ca.js" as="script"><link rel="preload" href="/assets/js/28.64562af7.js" as="script"><link rel="prefetch" href="/assets/js/10.e46d72ad.js"><link rel="prefetch" href="/assets/js/11.8254d096.js"><link rel="prefetch" href="/assets/js/12.ee9e402b.js"><link rel="prefetch" href="/assets/js/13.83e5ba5e.js"><link rel="prefetch" href="/assets/js/14.b28cb6fa.js"><link rel="prefetch" href="/assets/js/15.bc06572c.js"><link rel="prefetch" href="/assets/js/16.adf7ee00.js"><link rel="prefetch" href="/assets/js/17.638c8a0e.js"><link rel="prefetch" href="/assets/js/18.661a591c.js"><link rel="prefetch" href="/assets/js/19.7fb5808b.js"><link rel="prefetch" href="/assets/js/20.ecf034ed.js"><link rel="prefetch" href="/assets/js/21.9b198a89.js"><link rel="prefetch" href="/assets/js/22.6a51d93b.js"><link rel="prefetch" href="/assets/js/23.0a1cfe35.js"><link rel="prefetch" href="/assets/js/24.b90ca5c4.js"><link rel="prefetch" href="/assets/js/25.33941b02.js"><link rel="prefetch" href="/assets/js/26.95b36b7b.js"><link rel="prefetch" href="/assets/js/27.3535f59c.js"><link rel="prefetch" href="/assets/js/29.849624e7.js"><link rel="prefetch" href="/assets/js/3.7ef52252.js"><link rel="prefetch" href="/assets/js/30.cbe296a5.js"><link rel="prefetch" href="/assets/js/31.6cbf0b0f.js"><link rel="prefetch" href="/assets/js/32.5b861b2b.js"><link rel="prefetch" href="/assets/js/33.acf6a958.js"><link rel="prefetch" href="/assets/js/34.a957457a.js"><link rel="prefetch" href="/assets/js/35.1035d599.js"><link rel="prefetch" href="/assets/js/36.fcc7fbc8.js"><link rel="prefetch" href="/assets/js/37.bbcb34fe.js"><link rel="prefetch" href="/assets/js/38.326e2ab1.js"><link rel="prefetch" href="/assets/js/39.4db4134f.js"><link rel="prefetch" href="/assets/js/4.4c2548f6.js"><link rel="prefetch" href="/assets/js/40.b6150ce1.js"><link rel="prefetch" href="/assets/js/5.8a2b5103.js"><link rel="prefetch" href="/assets/js/6.3a5b4460.js"><link rel="prefetch" href="/assets/js/7.60024c79.js"><link rel="prefetch" href="/assets/js/8.bcfb9593.js"><link rel="prefetch" href="/assets/js/9.e0370369.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9422d7ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="double-click-deduplication"><a href="#double-click-deduplication" class="header-anchor">#</a> Double-click deduplication</h1> <p>The <code>Double-Click</code> headers are optional. They set the deduplication applied to access events. By default, the deduplication is performed following the COUNTER algorithm (available on <a href="http://couperin.org/images/stories/documents/Statistiques/COUNTER/V4_FR/appd_fr.pdf" target="_blank" rel="noopener noreferrer">page 4 of Annex D<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p>They are written like follows <em>(in red: the editable zones)</em>:</p> <ul><li>Double-Click-Removal: <span style="color:red;">true</span></li> <li>Double-Click-HTML: <span style="color:red;">10</span></li> <li>Double-Click-PDF: <span style="color:red;">30</span></li> <li>Double-Click-MISC: <span style="color:red;">20</span></li> <li>Double-Click-Strategy: <span style="color:red;">CLI</span></li> <li>Double-Click-C-field: <span style="color:red;">CookieFieldName</span></li> <li>Double-Click-L-field: <span style="color:red;">LoginFieldName</span></li> <li>Double-Click-I-field: <span style="color:red;">HostFiledName</span></li></ul> <h2 id="parameters-headers"><a href="#parameters-headers" class="header-anchor">#</a> Parameters (headers)</h2> <ul><li><p><strong>Double-Click-Removal:</strong> COUNTER deduplication activated <em>(true by default)</em>. If this header is used, it means the deduplication is not activated (with the <em>false</em> value) and the other Double-Click- headers are useless.</p></li> <li><p><strong>Double-Click-HTML:</strong> sets the minimum delay (in seconds) between two requests considered identical to an <a href="/src/essential/ec-attributes.html#formats-de-ressources">HTML resource</a> <em>(10 by default)</em>.</p></li> <li><p><strong>Double-Click-PDF:</strong> sets the minimum delay (in seconds) between two requests considered identical to a <a href="/src/essential/ec-attributes.html#formats-de-ressources">PDF resource</a> <em>(30 by default)</em>.</p></li> <li><p><strong>Double-Click-MISC:</strong> sets the minimum delay (in seconds) between two requests considered identical to a <a href="/src/essential/ec-attributes.html#formats-de-ressources">MISC resource</a> <em>(neither HTML, nor PDF)</em> <em>(20 by default)</em>.</p></li> <li><p><strong>Double-Click-MIXED:</strong> sets the minimum delay (in seconds) between two requests considered identical to a resource, <strong>whatever its format</strong> (ie. the access to a same resource in HTML then in PDF can be considered as a double-click). The delays set for each format are then ignored.</p></li> <li><p><strong>Double-Click-Strategy:</strong> the strategy (in the form of a sequence of ordered letters) used to define the uniqueness of the user accessing a resource. The fields are searched sequentially. If one field is lacking, the following one is used. The letter <strong>C</strong> corresponds to the field containing the <strong>cookie</strong> (or <strong>session ID</strong>). The letter <strong>L</strong> corresponds to the <strong>login</strong> of the user. The letter <strong>I</strong> corresponds to the <strong>IP address</strong> contained in the host field. <em>(CLI by default)</em></p> <ul><li><strong>Double-Click-C-field:</strong> field name that will be looked for in the logs. This field coming from the <a href="/src/essential/formats.html#paramtres-personnaliss">custom log format parameters</a> will be used to trace the cookie identifying the user (or its session ID). By default, it is not possible for ezPAARSE to know the field if it's not specified in the custom log format parameter. <em>(ignored by default)</em></li> <li><strong>Double-Click-L-field:</strong> field name that will be looked for in the logs to identify the user login <em>(corresponds to %u in the <a href="/src/essential/formats.html">log format syntax</a>)</em>. <em>(%u by default)</em>.</li> <li><strong>Double-Click-I-field:</strong> field name that will be looked for in the logs to identify the user host <em>(corresponds to %h in the <a href="/src/essential/formats.html">log format syntax</a>)</em>. <em>(%h by default)</em>.</li></ul></li></ul> <p>Usage:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -v -X POST --proxy <span class="token string">&quot;&quot;</span> --no-buffer<span class="token punctuation">\</span>
  -F <span class="token string">&quot;file=@test/dataset/sd.duplicates.log&quot;</span><span class="token punctuation">\</span>
  -H <span class="token string">'Log-Format-ezproxy: %h %u %{session}&lt;[a-zA-Z0-9\\-]+&gt; %t &quot;%r&quot; %s'</span><span class="token punctuation">\</span>
  -H <span class="token string">'Double-Click-HTML: 15'</span><span class="token punctuation">\</span>
  -H <span class="token string">'Double-Click-PDF: 30'</span><span class="token punctuation">\</span>
  -H <span class="token string">'Double-Click-MISC: 40'</span><span class="token punctuation">\</span>
     http://127.0.0.1:59599
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0774983a.js" defer></script><script src="/assets/js/2.f1c961ca.js" defer></script><script src="/assets/js/28.64562af7.js" defer></script>
  </body>
</html>
