(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{478:function(e,t,a){"use strict";a.r(t);var s=a(35),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"geolocation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#geolocation"}},[e._v("#")]),e._v(" Geolocation")]),e._v(" "),a("p",[e._v("The geolocation is based on the IP address found in the host field from the log files. The "),a("code",[e._v("Geoip")]),e._v(" header allows to choose which data is to be added to the results, or to deactivate the geolocation altogether.")]),e._v(" "),a("p",[e._v("The library used for this is "),a("a",{attrs:{href:"https://github.com/bluesmoon/node-geoip",target:"_blank",rel:"noopener noreferrer"}},[e._v("geoip-lite"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[a("strong",[e._v("Geolocation Caveats")]),e._v(" : IP address geolocation is a method that links the IP address of a terminal connected to the internet with a geographical position. The level of precision is not always the same: city in the best of cases, country otherwise.")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"http://en.wikipedia.org/wiki/Geolocation_software",target:"_blank",rel:"noopener noreferrer"}},[e._v("geolocation data is informative"),a("OutboundLink")],1),e._v(" and depends on the country as well as the internet access provider.")]),e._v(" "),a("h4",{attrs:{id:"parameters-headers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameters-headers"}},[e._v("#")]),e._v(" Parameters (headers)")]),e._v(" "),a("p",[a("strong",[e._v("Geoip:")]),e._v(" geolocation data that can be added to the results.")]),e._v(" "),a("p",[e._v("By default: "),a("code",[e._v("geoip-longitude, geoip-latitude, geoip-country")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("all")]),e._v(" can be used to include all possible fields")]),e._v(" "),a("li",[a("code",[e._v("none")]),e._v(" to deactivate the geolocation.")])]),e._v(" "),a("p",[e._v("The available fields are:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("geoip-host")]),e._v(": IP address being geolocalized")]),e._v(" "),a("li",[a("code",[e._v("geoip-country")]),e._v("2 characters code indicating the country (eg: "),a("code",[e._v("FR")]),e._v(" for "),a("code",[e._v("France")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("geoip-region")]),e._v(": 2 characters code indicating the region (eg: "),a("code",[e._v("A8")]),e._v(" for "),a("code",[e._v("ÃŽle-de-France")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("geoip-city")]),e._v(": complete name of the city (eg: "),a("code",[e._v("Paris")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("geoip-latitude")]),e._v(": self-explanatory")]),e._v(" "),a("li",[a("code",[e._v("geoip-longitude")]),e._v(": self-explanatory")]),e._v(" "),a("li",[a("code",[e._v("geoip-coordinates")]),e._v(": concatenation of latitude and longitude between brackets (eg: "),a("code",[e._v("[48.8592,2.3417]")]),e._v(")")])]),e._v(" "),a("p",[e._v("Usage example:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -v -X POST --proxy "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" --no-buffer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -F "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"file=@test/dataset/geolocalize.log"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -H "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Geoip: all'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n \thttp://127.0.0.1:59599\n")])])]),a("p",[e._v("Advanced usage example:")]),e._v(" "),a("p",[e._v("This example uses the ''csv2geojson'' and ''geojsonio-cli'' librairies.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" csv2geojson geojsonio-cli\n")])])]),a("p",[e._v("It is then possible to directly visualize the results on a map.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -X POST http://127.0.0.1:59599 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --proxy "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --no-buffer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --data-binary @./test/dataset/edp.2013-01-23.log  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -H "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Geoip: geoip-latitude, geoip-longitude'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -H "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Output-Fields: -doi,-identd,-url,-status,-size,+datetime'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" csv2geojson --lat "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geoip-latitude"')]),e._v(" --lon "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geoip-longitude"')]),e._v(" --delimiter "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('";"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("2")]),e._v(">")]),e._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" geojsonio\n")])])]),a("p",[e._v("That opens a web browser with the following graphical representation :")]),e._v(" "),a("img",{staticStyle:{width:"600px"},attrs:{src:e.$withBase("/images/ezPAARSE-SR16-02.jpg"),alt:"EDP Sciences Anonyme"}}),e._v(" "),a("h5",{attrs:{id:"video-demonstration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-demonstration"}},[e._v("#")]),e._v(" Video Demonstration")]),e._v(" "),a("p",[e._v("This "),a("a",{attrs:{href:"https://www.youtube.com/watch?v=SXSIb7oczbI",target:"_blank",rel:"noopener noreferrer"}},[e._v("screencast"),a("OutboundLink")],1),e._v(" demonstrates the previous usage (ie geolocation information visualized on a map)")])])}),[],!1,null,null,null);t.default=o.exports}}]);