(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{421:function(e,t,a){"use strict";a.r(t);var s=a(10),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"abesid-to-etab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#abesid-to-etab"}},[e._v("#")]),e._v(" abesid-to-etab")]),e._v(" "),t("p",[e._v("Add information about institution with abesID.")]),e._v(" "),t("h2",{attrs:{id:"enriched-fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#enriched-fields"}},[e._v("#")]),e._v(" Enriched fields")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("institutionName")]),e._v(" "),t("td",[e._v("String")]),e._v(" "),t("td",[e._v("Name of institution.")])])])]),e._v(" "),t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),t("p",[e._v("abesid-to-etab enrichment middleware needs abes-id.\nYou need to find the file Etablissement.csv on Inist Gitlab on Istex repo and put at the folder of this middleware.")]),e._v(" "),t("p",[t("strong",[e._v("You must use abesid-to-etab after filter, parser, deduplicator middleware.")])]),e._v(" "),t("h2",{attrs:{id:"headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[e._v("#")]),e._v(" Headers")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("abesid-to-etab-source-field")]),e._v(' : Fields in the ec for enrichment. "abes-id" by default.')]),e._v(" "),t("li",[t("strong",[e._v("abesid-to-etab-enriched-field")]),e._v(' : Enriched field in the EC. "institutionName" by default.')])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('By default.\n\n### Example\n\n## How to use\n\n### ezPAARSE admin interface\n\nYou can add abesid-to-etab by default to all your enrichments, To do this, go to the middleware section of administration.\n\n![image](./docs/admin-interface.png)\n\n### ezPAARSE process interface\n\nYou can use abesid-to-etab for an enrichment process. You just add the middleware.\n\n![image](./docs/process-interface.png)\n\n### ezp\n\nYou can use abesid-to-etab for an enrichment process with [ezp](https://github.com/ezpaarse-project/node-ezpaarse) like this:\n\n```bash\n# enrich with one file\nezp process <path of your file> \\\n  --host <host of your ezPAARSE instance> \\\n  --settings <settings-id> \\\n  --header "ezPAARSE-Middlewares: abesid-to-etab" \\\n  --out ./result.csv\n\n# enrich with multiples files\nezp bulk <path of your directory> \\\n  --host <host of your ezPAARSE instance> \\\n  --settings <settings-id> \\\n  --header "ezPAARSE-Middlewares: abesid-to-etab" \n\n')])])]),t("h3",{attrs:{id:"curl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#curl"}},[e._v("#")]),e._v(" curl")]),e._v(" "),t("p",[e._v("You can use abesid-to-etab for an enrichment process with curl like this:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-X")]),e._v(" POST "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-v")]),e._v(" http://localhost:59599 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ezPAARSE-Middlewares: abesid-to-etab"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Log-Format-Ezproxy: <line format>"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-F")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"file=@<log file path>"')]),e._v("\n\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);