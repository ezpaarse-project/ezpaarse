(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{345:function(e,a,t){"use strict";t.r(a);var s=t(10),r=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"geocalizer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#geocalizer"}},[e._v("#")]),e._v(" geocalizer")]),e._v(" "),a("p",[e._v("Geolocalize consultation events based on an IP address")]),e._v(" "),a("h2",{attrs:{id:"headers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[e._v("#")]),e._v(" Headers")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Geoip")]),e._v(" : Geolocation data that can be added to the results.")])]),e._v(" "),a("p",[e._v("By default: "),a("code",[e._v("geoip-longitude")]),e._v(", "),a("code",[e._v("geoip-latitude")]),e._v(", "),a("code",[e._v("geoip-country")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("all")]),e._v(" can be used to include all possible fields")]),e._v(" "),a("li",[a("code",[e._v("none")]),e._v(" to deactivate the geolocation.")])]),e._v(" "),a("p",[e._v("The available fields are:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("geoip-host")]),e._v(": IP address being geolocalized")]),e._v(" "),a("li",[a("code",[e._v("geoip-country")]),e._v(" 2 characters code indicating the country (eg: "),a("code",[e._v("FR")]),e._v(" for "),a("code",[e._v("France")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("geoip-region")]),e._v(": 2 characters code indicating the region (eg: "),a("code",[e._v("A8")]),e._v(" for "),a("code",[e._v("ÃŽle-de-France")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("geoip-city")]),e._v(": complete name of the city (eg: "),a("code",[e._v("Paris")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("geoip-latitude")]),e._v(": self-explanatory")]),e._v(" "),a("li",[a("code",[e._v("geoip-longitude")]),e._v(": self-explanatory")]),e._v(" "),a("li",[a("code",[e._v("geoip-coordinates")]),e._v(": concatenation of latitude and longitude between brackets (eg: "),a("code",[e._v("[48.8592,2.3417]")]),e._v(")")])]),e._v(" "),a("h3",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-v")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-X")]),e._v(" POST http://localhost:59599\n    "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Geoip: all'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-F")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"file=@test/dataset/geolocalize.log"')]),e._v("\n")])])]),a("p",[e._v("Advanced usage example:")]),e._v(" "),a("p",[e._v("This example uses the ''csv2geojson'' and ''geojsonio-cli'' librairies.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" csv2geojson geojsonio-cli\n")])])]),a("p",[e._v("It is then possible to directly visualize the results on a map.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-X")]),e._v(" POST http://127.0.0.1:59599 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--proxy")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --no-buffer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --data-binary @./test/dataset/edp.2013-01-23.log  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Geoip: geoip-latitude, geoip-longitude'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Output-Fields: -doi,-identd,-url,-status,-size,+datetime'")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" csv2geojson "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--lat")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geoip-latitude"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--lon")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geoip-longitude"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--delimiter")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('";"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("2")]),e._v(">")]),e._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" geojsonio\n")])])]),a("p",[e._v("That opens a web browser with the following graphical representation of the access events.")]),e._v(" "),a("h5",{attrs:{id:"video-demonstration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#video-demonstration"}},[e._v("#")]),e._v(" Video Demonstration")]),e._v(" "),a("p",[e._v("This "),a("a",{attrs:{href:"https://www.youtube.com/watch?v=SXSIb7oczbI",target:"_blank",rel:"noopener noreferrer"}},[e._v("screencast"),a("OutboundLink")],1),e._v(" demonstrates the previous usage (ie geolocation information visualized on a map)")])])}),[],!1,null,null,null);a.default=r.exports}}]);