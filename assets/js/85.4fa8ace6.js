(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{407:function(e,t,a){"use strict";a.r(t);var s=a(10),o=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h3",{attrs:{id:"geolocation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#geolocation"}},[e._v("#")]),e._v(" Geolocation")]),e._v(" "),t("p",[e._v("The geolocation is based on the IP address found in the host field from the log files. The "),t("code",[e._v("Geoip")]),e._v(" header allows to choose which data is to be added to the results, or to deactivate the geolocation altogether.")]),e._v(" "),t("p",[e._v("The library used for this is "),t("a",{attrs:{href:"https://github.com/bluesmoon/node-geoip",target:"_blank",rel:"noopener noreferrer"}},[e._v("geoip-lite"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[t("strong",[e._v("Geolocation Caveats")]),e._v(" : IP address geolocation is a method that links the IP address of a terminal connected to the internet with a geographical position. The level of precision is not always the same: city in the best of cases, country otherwise.")]),e._v(" "),t("p",[e._v("The "),t("a",{attrs:{href:"http://en.wikipedia.org/wiki/Geolocation_software",target:"_blank",rel:"noopener noreferrer"}},[e._v("geolocation data is informative"),t("OutboundLink")],1),e._v(" and depends on the country as well as the internet access provider.")]),e._v(" "),t("h4",{attrs:{id:"parameters-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameters-headers"}},[e._v("#")]),e._v(" Parameters (headers)")]),e._v(" "),t("p",[t("strong",[e._v("Geoip:")]),e._v(" geolocation data that can be added to the results.")]),e._v(" "),t("p",[e._v("By default: "),t("code",[e._v("geoip-longitude, geoip-latitude, geoip-country")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("all")]),e._v(" can be used to include all possible fields")]),e._v(" "),t("li",[t("code",[e._v("none")]),e._v(" to deactivate the geolocation.")])]),e._v(" "),t("p",[e._v("The available fields are:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("geoip-host")]),e._v(": IP address being geolocalized")]),e._v(" "),t("li",[t("code",[e._v("geoip-country")]),e._v("2 characters code indicating the country (eg: "),t("code",[e._v("FR")]),e._v(" for "),t("code",[e._v("France")]),e._v(")")]),e._v(" "),t("li",[t("code",[e._v("geoip-region")]),e._v(": 2 characters code indicating the region (eg: "),t("code",[e._v("A8")]),e._v(" for "),t("code",[e._v("ÃŽle-de-France")]),e._v(")")]),e._v(" "),t("li",[t("code",[e._v("geoip-city")]),e._v(": complete name of the city (eg: "),t("code",[e._v("Paris")]),e._v(")")]),e._v(" "),t("li",[t("code",[e._v("geoip-latitude")]),e._v(": self-explanatory")]),e._v(" "),t("li",[t("code",[e._v("geoip-longitude")]),e._v(": self-explanatory")]),e._v(" "),t("li",[t("code",[e._v("geoip-coordinates")]),e._v(": concatenation of latitude and longitude between brackets (eg: "),t("code",[e._v("[48.8592,2.3417]")]),e._v(")")])]),e._v(" "),t("p",[e._v("Usage example:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-v")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-X")]),e._v(" POST "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--proxy")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" --no-buffer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-F")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"file=@test/dataset/geolocalize.log"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Geoip: all'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n \thttp://127.0.0.1:59599\n")])])]),t("p",[e._v("Advanced usage example:")]),e._v(" "),t("p",[e._v("This example uses the ''csv2geojson'' and ''geojsonio-cli'' librairies.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" csv2geojson geojsonio-cli\n")])])]),t("p",[e._v("It is then possible to directly visualize the results on a map.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-X")]),e._v(" POST http://127.0.0.1:59599 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--proxy")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --no-buffer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --data-binary @./test/dataset/edp.2013-01-23.log  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Geoip: geoip-latitude, geoip-longitude'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-H")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Output-Fields: -doi,-identd,-url,-status,-size,+datetime'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" csv2geojson "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--lat")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geoip-latitude"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--lon")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geoip-longitude"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--delimiter")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('";"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("2")]),e._v(">")]),e._v(" /dev/null "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" geojsonio\n")])])]),t("p",[e._v("That opens a web browser with the following graphical representation :")]),e._v(" "),t("img",{staticStyle:{width:"600px"},attrs:{src:e.$withBase("/images/ezPAARSE-SR16-02.jpg"),alt:"EDP Sciences Anonyme"}}),e._v(" "),t("h5",{attrs:{id:"video-demonstration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#video-demonstration"}},[e._v("#")]),e._v(" Video Demonstration")]),e._v(" "),t("p",[e._v("This "),t("a",{attrs:{href:"https://www.youtube.com/watch?v=SXSIb7oczbI",target:"_blank",rel:"noopener noreferrer"}},[e._v("screencast"),t("OutboundLink")],1),e._v(" demonstrates the previous usage (ie geolocation information visualized on a map)")])])}),[],!1,null,null,null);t.default=o.exports}}]);